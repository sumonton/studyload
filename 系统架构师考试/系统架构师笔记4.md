# 十三、嵌入式系统

## 1、嵌入式系统概述（❤）

### 1.1 基本概念

* 嵌入式系统是以应用为中心、以计算机技术为基础，并将可配置与可裁剪的软件、硬件集成于一体的专用计算机系统个，需要满足应用对功能，可靠性、成本、体积和功耗等方面的严格要求
* 从计算机角度看，嵌入式系统是指嵌入各种设备级应用产品内部的计算机系统。它主要完成信号控制的功能，体积小，结构紧凑，可作为一个部件埋藏于所控制的装置中
* 一般嵌入式系统由嵌入式处理器、相关支撑硬件、嵌入式操作系统、支撑软件以及应用软件组成

### 1.2 嵌入式系统软件组成架构

![截屏 2023-09-22 23.45.54.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309222346523.png)

### 1.3 嵌入式系统主要部件

* 嵌入式微处理器（MCU）
* 存储器（RAM/ROM）
* 内（外）总线逻辑
* 看门狗电路：定时器溢出则中断，系统复位处理
* I/O接口（串口、网络、USB、JTAG接口--用来进行CPU调试的常用接口）
* 外部设备（UART、LED等）
* 其他部件

## 2、嵌入式系统设计（❤）

### 2.1 嵌入式软件开发（交叉开发环境）

* 嵌入式软件的开发与传统的软件开发方法存在比较大的差异，主要表现在以下方面：
  * 嵌入式软件开发实在宿主机（PC机或工作站）上使用专门的嵌入式工具开发，生成二进制代码，需要使用工具卸载到目标机或固化在目标机储存器上运行
  * 嵌入式软件开发时更强调软/硬件协同工作的效率和稳定性
  * 嵌入式软件开发的结果需要固话在目标系统的储存器或处理器内部存储器资源中
  * 嵌入式软件的开发一般需要专门的开发工具、目标系统和测试设备
  * 嵌入式软件对实时性的要求更高
  * 嵌入式软件对安全性和可靠性的要求较高
  * 嵌入式软件开发是要充分考虑代码规模的
  * 在安全攸关系统中嵌入式软件，其开发还应满足某些领域对设计和代码审定
  * 模块化设计即将一个较大的程序按功能划分成若干程序模块，每个模块试下特定的功能

![IMG_894552A81885-1](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309230000012.jpeg)

* 嵌入式软件设计层面的工号控制主要可以从以下方面展开
  * 软硬件协同设计，即软件的设计要与硬件的匹配，考虑硬件因素
  * 编译优化，采用低功耗优化的编译技术
  * 减少系统的持续运行时间，可从算法角度进行优化
  * 用”中断“代替”查询“
  * 进行电源的有效管理

## 3、嵌入式硬件（❤❤）

* 嵌入式系统的发展大致经历了5个阶段
  * 第一阶段：单片微型计算机（SCM）阶段，即单片机时代
  * 第二阶段：微控制器（MCU）阶段
  * 第三阶段：片上系统（Soc）
  * 第四阶段：以Internet为基础的嵌入式系统
  * 第五阶段：在智能化、云技术推动下的嵌入式系统

### 3.1 嵌入式微处理器分类

* 通常嵌入式处理器的选择还要根据使用场景不同选择不同类型的处理器，从处理器分类看，大致可分为MPU、MCU、DSP、GPU、Soc：
  * 微处理器（Micro Processor Unit，MPU）：将微处理器装配在专门设计的电路板上，只保留与嵌入式应用有关的母板功能。微处理器一般以某一种微处理内核为核心，每一种衍生产品的处理器内核都是一样的，不同的是存储器和外设的配置和封装
  * 微控制器（Micro Control Unit，MCU）：又称单片机。与MPU相比MCU的最大优化在于单片机，体积大大减小，从而使功耗和成本下降，可靠性提高
  * 信号处理器（Digital Signal Processor，DSP）：DSP处理器对系统结构和指令进行了特殊设计（通常，DSP采用一种哈佛结构），使其适合于执行DSP算法，编译效率高，指令执行速度也高
* 图形处理器
  * GPU是图形处理单元的缩写，是一种可执行3D图形扥国土修的半导体芯片（处理器）
  * GPU可用于个人电脑、工作站、游戏机和一些移动设备上做图像和图形相关运算工作的微处理器
  * 它可减少对CPU的依赖，并进行部分原本CPU的工作，尤其是3D图形处理中，GPU采用了核心技术（如：硬件T&L、纹理压缩等）保证了快速SD渲染能力
  * GPU目前已广泛应用于各行各业，GPU中集成了同时运行在GHz的频率上的成千上万的core，可以高速处理图像数据。最新的GPU峰值性能可高达100TFlops以上
* 片上系统（System on Chip，Soc）
  * 追求产品系统最大包容的集成器件
  * 它是一个产品，是一个有专用目标的集成电路，其中包含完整系统并有嵌入软件的全部内容
  * 同时它又是一种技术，用以实现从确定系统功能开始，到软/硬件划分，并完成设计的整个过程
  * 成功实现了软硬件的无缝结合，直接在微处理器片内嵌入操作系统的代码模块
  * 减少了系统的体积和功耗、提高了可靠性和设计的生产效率
  * 狭义角度：信息系统核心的芯片集成，是将系统关键部件集成在一块芯片上
  * 广义角度：Soc是一个微小型系统，如果说中央处理器（CPU）是大脑，那么Soc就是包括大脑、心脏、眼睛和手的系统
  * 国内外学术界一般倾向将Soc定义为将微处理器、模拟IP核、数字IP核核存储器（或片外存储控制接口）集成在单一芯片上，它通常是客户定制的，或是面向特定用途的标准产品

### 3.2 嵌入式微处理器体系结构

| 体系结构分类 | 定义                                                         | 特点                                                         | 典型应用                                                     |
| ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 冯诺依曼结构 | 冯诺依曼结构也普林斯顿结构，是一种将程序指令存储器和数据存储器合并在一起的存储器结构 | 指令与数据存储器合并在一起,<br>指令与数据都通过相关的数据总线传输 | 一般用于PC处理器，如I3、I5、I7处理器<br>注：常规计算机属于冯诺依曼结构 |
| 哈佛结构     | 哈佛结构是一种并行体系结构，它的主要特点是将程序和数据存储在不同的存储空间中，即程序存储器和数据存储器是两个独立的存储器，每个存储器独立编址、独立访问 | 指令与数据分开存储，可以并行读取，有较高数据的吞吐率<br>有4条总线：指令和数据的数据总线与地址总线 | 一般用于嵌入式系统处理器<br>注：DSP属于哈佛结构              |



### 3.3 AI芯片

* 人工智能（Artificial Intelligence，AI）芯片的定义：从广义上讲只能够运行人工智能算法的芯片都叫做AI芯片。但是通常意义上的AI芯片指的是针对人工智能算法做了特殊加速设计的芯片，现阶段，这些人工智能算法一般以深度学习算法为主，也可以包括其他机器学习算法
* 人工智能芯片四大类（按技术架构分类）
  * GPU
  * FPGA（现场可编程门阵列）
  * ASIC（专用集成电路）
  * 类脑芯片
* AI芯片的关键特征
  * 新型的计算范式：AI计算既不脱离传统计算，也具有新的计算特质
  * 训练和推断：AI系统通常涉及训练和推断过程
  * 大数据处理能力：满足高效能机器学习的数据处理要求
  * 数据精度：降低精度的设计
  * 可重构的能力：针对特定领域而不针对特定应用的设计，可以通过重新配置，适应新的AI算法、架构和任务
  * 开发工具：AI芯片需要软件工具链的支持

### 3.4 总线

* 基本概念：总线是一组能为多个部件分时共享的信息传送线，用来连接多个部件并为之提供信息交换通路。（总线通常是半双工的）
* 特点：
  * 挂接在总线上的多个部件只能分时向总线发送数据，但可同时从总线接受数据
  * 通过总线复用方式可以减少总线中信号线的数量，以较少的信号线传输更多的信息
  * 从功能上来对总线进行划分数据总线、地址总线和控制总线
  * 从数据传输的方式划分并行总线和串行总线
* 并行总线：将数据字节的各位用多条数据线同时进行传送【短距离】
* 串行总线：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。【长距离，传输波特率可调整，正确性依赖于校验码，数据传输方式可以使用多种】

## 4、嵌入式操作系统（❤❤❤）

* 嵌入式操作系统（Embedded Operating System，EOS）是指用于嵌入式系统的操作系统。嵌入式操作系统是一种用途广泛的系统软件，负责嵌入式系统的全部软、硬件资源分配、任务调度、控制、协调并行活动等工作。通常包括与硬件相关的底层驱动软件、系统内核、设备驱动接口、通信协议、图形界面、标准化浏览器等

### 4.1 嵌入式实时操作系统

* 根据系统对时间的敏感程度可将嵌入式系统划分为
  * 嵌入式分实时系统
  * 嵌入式实时系统：能够在执行或者确定的时间内完成系统功能和外部或内部、同步或异步时间做出响应的系统
* 嵌入式实时操作系统间距掐如实操作系统的特点和实时操作系统的特点
  * 微型化
  * 代码质量高
  * 专业化
  * 实时性强
  * 可裁减、可配置
* 实时操作系统的最核心特点实时性强
* 嵌入式实时操作系统实时性的评价指标
  * 中断响应和延迟时间
  * 任务切换时间
  * 信号量混洗时间
* 嵌入式实时操作系统调度算法
  * 优先级调度算法：任务为每一个任务分配一个相对固定的优先顺序
  * 抢占式优先级调度算法：根据一个任务的紧急程度确认该任务的优先级。大多数RTOS调度算法都是抢占方式（可剥夺方式）
  * 最早截止期调度算法（EDF算法）：根据任务的截止时间头端来确定其优先级，对于时间期限最近的任务，分配最高的优先级
  * 最晚截止期调度算法：根据任务的截止时间末端来确定其优先级，对于时间期限最近的任务，分配最高的优先级

### 4.2 操作系统内核架构

* 内核操作系统的核心部分，它管理者系统的各种资源。内核可以看成连接应用程序和硬件的一座桥梁，是直接运行在硬件上的最基础的软件实体

* 目前从内核架构来划分，可以分为宏内核和微内核

  ![IMG_CABD9B1E4E70-1](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309230115589.jpeg)![IMG_E4B0D7ED5ECB-1](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309230118218.jpeg)

## 5、 嵌入式数据库（❤）

* 与传统数据库相比，嵌入式数据库系统有以下几个主要特点：

  * 嵌入式
  * 实时性
  * 移动性
  * 伸缩性

* 按照数据库存储位置的不同而分类是目前广泛应用的分类方法，可分为三类

  ![IMG_EB907FA5A417-1](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309230121134.jpeg)

* 关于嵌入式网络数据库
  * 实际上，嵌入式网络数据库是吧功能强大的远程数据库映射到本地数据库，是嵌入式设备访问远程数据库就像访问本地数据库一样方便
  * 嵌入式网络数据库主要由三部分组成：客户端、通信协议和远程服务器。客户端主要负责提供接口给嵌入式程序，通信协议负责规范客户端与远程服务器的通信，还需要解决多客户端的并发问题，远程服务器负责维护服务器上的数据库数据
  * 这里要说明的是，由嵌入式网络数据库、嵌入式本地数据库（内存或文件）和嵌入式Web服务器等构成了综合的嵌入式综合信息系统

# 十四、计算机网络

## 1、计算机网络 技术概述（❤）

### 1.1 计算机网络概述

* 计算机网络的功能
  * 数据通信
  * 资源共享
  * 管理集中化
  * 实现分布式处理
  * 负载均衡
* 计算机网络可以极大扩展计算机系统的功能及其应用范围，提高可靠性，在为用户提供方便的同时，减少了整体系统费用，降低了系统的性价比

### 1.2 计算机网络性能指标

* 计算机网络性能指标可以从速率、带宽、吞吐量和时延等不同方面来度量计算机网络的性能
  * 时延
    * 是指数据（一个报文、分组甚至比特）从网络（或链路）的一端传送到另一端所需的时间。时延是个很重要的性能指标，它有时也称为延迟或迟延。网络中的时延由以下几个不同部分组成，如发送时延、传播时延、处理时延、排队时延等组成
    * 网络延迟=处理延迟+排队延迟+发送延迟+传播延迟。如果不考虑网络环境，服务器延迟的主要因素是队列延迟和磁盘IO延迟
    * 注：路由器发送时延大于交换机

### 1.3 计算机网络技术

![image-20230924215731732](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242157900.png)

* 移动通信技术--5G技术
  * 5G网络主要特征
    * 服务化架构：5G核心网中引入SBA服务器架构，实现网络功能的灵活定制和按需组合
    * 网络切片：通过网络切片技术在单个独立的物理网络上切分出多个逻辑网络，从而避免了为每一个服务建设一个专用的物理网络，极大的降低了建网和运维成本

## 2、组网技术（❤❤❤）

### 2.1 OSI七层模型

![image-20230924221010563](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242210678.png)

* 交换技术：数据在网络中转发通常离不开交换机。交换机的功能包括：集线功能、中继功能、桥接功能、隔离冲突域功能等
* 基本交换原理：交换机是一种基于MAC地址识别，能完成封装转发数据包功能的网络设备。交换机可以”学习“MAC地址，并把其存放在内部地址表中，通过在数据的始发者和目标接收者之间建立临时的交换路径，使数据直接由源地址到达目的地址
* 交换机需要实现的功能如下所述
  * 转发路径学习：根据收到数据中的源MAC地址建立该地址同交换机端口的映射写入MAC地址表中
  * 数据转发：如果交换机根据数据中的目的MAC地址在建立好的MAC地址表中查询到了，就向对应端口进行转发
  * 数据泛洪。如果数据中的目的MAC地址不在MAC地址表中，则向所有端口转发也就是泛洪。广播帧和组播帧向所有端口（不包括源端口）进行转发
  * 链路地址更新。MAC地址表会没隔一定时间（如300s）更新一次
  * 注：交换机初始状态时地址表为空；交换机重启或手动清空时地址表会清空

### 2.2 TCP/IP协议族

![image-20230924222936567](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242229722.png)

![image-20230924223415878](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242234954.png)

|          | TCP                                                          | UDP                                                          |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 共同点   | 基于IP协议的传输层协议，可以端口寻址                         | 基于IP协议的传输层协议，可以端口寻址                         |
| 不通电   | 面向连接（连接管理）、三次握手、流量控制、差错校验和重传、IP数据包按序接收（不丢失、不重复）、可靠性强、牺牲通信量、效率低 | 不可靠、不连接、错误检测功能弱，无拥塞控制、无流量控制，有助于提高传输的高速率性<br>不对无序IP数据包重新排序、不负责重传、不消除重复IP数据包、不对已收到的数据报进行确认、不负责建立或终止连接，这些由UDP进行通信的应用程序进行处理 |
| 相关协议 | HTTP、FTP、Telnet、POP3、SMTP                                | DNS、DHCP、TFTP、SNMP                                        |

### 2.3 DHCP

![image-20230924224414370](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242244467.png)

* 分配方式

  * 固定分配【管理员分配】
  * 动态分配【有效期限的IP地址】
    * 租约默认为8天
    * 当租约过半时，客户机需要向DHCP服务器申请续租
    * 当租约超过87.5%时，如果仍然没有和当初提供IP的DHCP服务器联系上，则开始联系其他的DHCP服务器
  * 自动分配【无限长的IP地址】
  * 无效地址：169.254.X.X和0.0.0.0

* 自动获取IP工作原理

  ![image-20230924224936589](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242249759.png)

  

### 2.4 DNS

![image-20230924225328954](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242253265.png)

* 主机向本地域名服务器的查询采用递归查询
  * 递归查询：服务器必须回答目标IP与域名的映射关系
* 本地域名服务器向根域名服务器的查询通常采用迭代查询
  * 迭代查询：服务器收到一次迭代查询回复一次结果，这个结果不一定是目标IP与域名的映射关系，也可以是其他DNS服务器的地址

![image-20230924225757665](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242257825.png)

|                            |                                                              |
| -------------------------- | ------------------------------------------------------------ |
| 浏览器输入域名             | HOSTS→本地DNS缓存→本地DNS服务器→根域名服务器→顶级域名服务器→权限域名服务器 |
| 主域名服务器接收到域名请求 | 本地缓存记录→区域记录→转发域名服务器→根域名服务器            |

![image-20230924230218640](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242302726.png)

![image-20230924230304511](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242303656.png)

## 3、网络规划与设计（❤）

### 3.1 网络冗余设计

* 在网络冗余设计中，对于通信线路常见的设计目标主要有两个：一个是备用路径，另一个是负载分担
* 备用路径，提高可用性，由路由器、交换机等设备之间的独立备用链路构成，一般情况下备用路径仅仅在主路径失效时投入使用。设计时主要考虑
  * 备用路径的带宽
  * 切换时间
  * 非对称
  * 自动切换
  * 测试
* 负载分担，是对备用路径方式的扩充，通过并行链路提供流量分担（冗余的形式）来提高性能，主要的视线方法是利用两个或多个网络接口和路径来同时传递流量，设计时注意考虑
  * 网络中存在备用路径、备用链路时，可以考虑加入负载分担设计
  * 对于主路径、备用路径都相同的情况，可以实施负载分担的特例-负载均衡
  * 对于主路径、备用路径不相同的情况，可以采用策略路由机制，让一部分应用的流量分摊到备用路径上

## 4、基础扩展

### 4.1 磁盘阵列Raid

* Raid0（条块化）：性能最高，并行处理，无冗余，损坏无法恢复
* Raid1（镜像结构）：可用性，可修复性好，仅有50%利用率
* Raid0+1（Raid10）：Raid0与Raid1长处的结合，高效也可靠
* Raid3（奇偶校验并行传送）：N+1模式，有固定的校验盘，坏一个盘可恢复
* Raid5（分布式奇偶校验的独立磁盘）：N+1模式，无固定校验盘，坏一个盘可恢复
* Raid6（两种存储的奇偶校验）：N+2模式，无固定的校验盘，坏两个盘可恢复

![image-20230924231543342](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242315460.png)

![image-20230924231717866](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242317980.png)![image-20230924231753182](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242317327.png)

### 4.2 IPv6

* IPv6是设计用于替代现行版本IP协议（IPv4）的下一代IP协议
  * 寻址能力方面的扩展。IPv6地址长度为128位，地址空间增大了$2^{96}$倍
  * 灵活的IP报文头部格式。使用一系列固定格式的扩展头部取代了IPv4中可变长度的选项字段。IPv6中选项部分的出现方式也有所变化，使路由器可以简单路过选项而不做任何处理，加快了报文处理速度
  * IPv6简化了报文头部格式，字段只有8个，加快报文转发，提高了吞吐量
  * 提高安全性。身份认证和隐私权是IPv6的关键特性
  * 支持更多的服务类型
  * 允许协议继续演变，增加新的功能，使之适应未来技术的发展

![image-20230924232450140](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242324287.png)

* 单播地址（Unicast）：用于单个接口的标识符，传统的点对点通信
* 组播地址（Multicast）：多播地址，一点对多点的通信，数据包交付到一组计算机种的每一个。IPv6没有广播的术语，而是将广播看做多播的一个特例
* 任播地址（Anycast）：泛播地址，这是IPv6增加的一种类型。任播的目的站是一组计算机，但数据包在交付时只交付给其中一个，通常是距离最近的一个

![image-20230924232756465](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242327590.png)

* IPv6规定每个网卡最少有3个IPv6地址，分别是链路本地地址、全球单播地址和回送地址（站点本地地址）
* IPv6把自动IP地址配置作为标准功能，只要计算机连接上网络便可自动分配IP地址
* 全状态自动配置（Stateful Auto-Configuration）：IPv6继承了IPv4动态主机配置协议（DHCP）这种自动配置服务
* 无状态自动配置（Stateless Auto-Configuration）：主机通过两个阶段分别获得链路本地地址和可聚合全球单播地址
* 首先主机将其网卡MAC地址附加在链路本地地址前缀1111 11110 10 之后，产生一个链路本地地址，发出一个ICMPv6邻居发现请求，验证其地址的唯一性。不唯一则使用随机接口ID组成一个新的链路本地地址
* 主机以链路本地地址作为源地址，相本地链路中所有路由器的组播ICMPv6路由器请求报文并返回一个可包含可聚合全球单播地址前缀的路由器公告报文响应。该地址前缀加上自己的接口ID，自动配置一个全球单播地址。使用无状态自动配置，无需用户手工干预就可以改变主机的IPv6地址

* IPv4/IPv6过渡技术有
  * 双协议栈技术：双栈技术通过节点对IPv4和IPv6双协议栈的支持，从而支持两种业务的共存
  * 隧道技术：隧道技术通过在IPv4网络中部署隧道，实现在IPv4网络上对IPv6业务的承载，保证业务的共存和过渡。隧道技术包括：6to4隧道；6over4隧道；ISATAP隧道
  * NAT-PT技术：NAT-PT使用网关设备练级IPv6和IPv4网络。当IPv4和IPv6节点互相访问时，NAT-PT网关实现两种协议的转换翻译和地址的映射

### 4,3 网络规划与设计

![image-20230924234455364](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242344471.png)

* 逻辑网络设计阶段

  * 逻辑网络设计师体现网络设计核心思想的关键阶段，在这一阶段根据需求规范和通信规范，选择一种比较适宜的网络逻辑结构，并基于该逻辑结构实施手续的资源分配规划、安全规划等内容。利用需求分析和现有网络体系分析的结果来设计逻辑网络结构，最后得到一份逻辑网络设计文档

  ![image-20230924234714428](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242347520.png)

* 物理网络设计
  * 物理网络设计师对逻辑网络设计的物理实现，通过对设备的具体物理分布、运行环境等确定，确保网络的物理连接复合逻辑连接的要求。在这一阶段，网络设计者需要确定具体的软/硬件、连接设备、不限和服务的部署方案，输出如下内容：
    * 网络物理结构图和布线方案
    * 设备和部件的详细列表清单
    * 软硬件和安装费用的估算
    * 安装日程表，详细说明服务的时间以及期限
    * 安装后的测试计划
    * 用户的培训计划

### 4.4 层次化网络设计

![image-20230924235501561](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309242355667.png)

* 核心层：主要是高速数据交换，实现高速数据传输、出口路由、常用冗余机制
* 汇聚层：网络访问策略控制、数据包处理和过滤、策略路由哦、广播域定义、寻址
* 接入层：主要是针对用户端，实现用户接入、计费管理、MAC地址认证、MAC地址过滤、收集用户信息，可以使用集线器代替交换机

# 十五、数据库

## 1、数据库模式（❤）

![image-20230925223141423](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252231558.png)

### 1.1 关系表类型

* 关系的3种类型
  * 基本关系（通常又称为基本表或基表）：实际存在的表，实际存储数据的逻辑表示
  * 查询表：查询结果对应的表
  * 视图表：由基表或其他视图表导出的表，本身不独立存储，数据库只存放他的定义，常称为虚表
* 数据库视图：它是一个虚拟表（逻辑上的表），其内容由查询定义（仅保存SQL查询语句）。同真实的表一眼个，视图包含一系列带有名称的列和行数据。但是，视图并没有真正存储这些数据，而是通过查询原始表动态生成所需要的数据
* 视图的有点
  * 视图能简化用户操作
  * 视图使用户能以多角度看待同一数据
  * 视图对重构数据库提供了一定程度的逻辑独立性
  * 视图可以对机密数据提供安全保护
* 物化视图：它不是传统意义上虚拟视图，是实体化视图，其本身会存储数据。同时当原始表中的数据更新时，物化视图也会更新

## 2、分布式数据库（❤❤❤）

* 数据独立性。除了数据的逻辑独立性与物理独立性外，还有数据分布独立性（分布透明性）
* 集中于自治共享结合的控制结构。各局部的DBMS可以独立地管理局部数据库，具有自治的功能。同时，系统又设有集中控制机制，协调各局部DBMS的工作，执行全局应用
* 适当增加数据冗余度。在不同的场地存储同一数据的多个副本，可以提高系统的可靠性和可用性，同事也能提高系统性能
  * 提高系统的可用性，即当系统中某个节点发生故障时，因为数据有其他副本在非故障场地上，对其他所有场地来说，数据仍然是可用的，从而保证数据的完备性
* 全局的一致性、可串行性和可恢复性

![image-20230925224543978](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252245153.png)

![image-20230925224832137](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252248273.png)

* 分布式透明性
  * 分片透明性：是指用户不必关心数据是如何分片的，它们对数据的操作在全局关系上进行，即如何分片对用户是透明的
    * 水平分片
    * 垂直分片
    * 混合分片
  * 位置透明性
    * 复制透明：用户不用关系数据库在网络中各个节点的复制情况，被复制的数据在更新都由系统自动完成
    * 位置透明：是指用户不必知道所操作的数据放在何处，即数据分配到哪个或哪些站点存储对用户是透明
  * 局部数据模型透明性（逻辑透明）：是最低层次的透明性，该透明性提供数据到局部数据库的映像，即用户不必关系局部DBMS支持那种数据模型、使用哪种数据操纵语言，数据模型和操纵语言的转换是由系统完成的。因此，局部映像透明性对异构性和同构异质的分布式数据库系统是非常重要的
* 两阶段提交协议2PC
  * 2PC事务提交的两个阶段
    * 表决阶段，目的是形成一个共同的决定
    * 执行阶段，目的是实现这个协调者的决定
  * 两条全局提交规则
    * 只要有一个参与者撤销事务，协调者就必须做出全局撤销决定
    * 只有所有参与者都同意提交事务，协调者才能做出全局提交决定

## 3、数据库设计阶段（❤❤）

![image-20230925230202884](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252302039.png)



## 4、概念结构设计-ER模型（❤）

### 4.1 E-R图

![image-20230925230452556](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252304663.png)

### 4.2 E-R模型-联系类型判断

* 两个不同实体集之间联系

  ![image-20230925230640788](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252306927.png)

  * 一对一（1：1）
  * 一对多（1：n）
  * 多对多（n：n）

### 4.3 概念结构设计

* 集成的方法
  * 多个局部E-R图一次集成
  * 逐步集成，用累加的方式一次集成两个局部E-R图
* 集成产生的冲突及解决办法
  * 属性冲突：包括属性域冲突和属性取值冲突。
  * 命名冲突：包括同名异义和异名同义。
  * 结构冲突：包括同一对象在不同应用中具有不同的抽象，以及同一实体在不同局部E-R图中所包含的属性个数和属性排列次序不完全相同。

## 5、逻辑结构设计-关系模型（❤❤）

### 5.1 关系模型的基本概念（数据模型）

* 数据模型三要素：数据结构、数据操作、数据的约束条件

* 层次模型

* 网状模型

* 面向对象模型

* 关系模型

  ![image-20230925232127655](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252321791.png)

* 相关概念

  * 目或度：关系模式中属性的个数
  * 候选码（候选键）
    * 唯一标识元组，且无冗余
  * 主码（主键）：任选一个候选键
  * 主属性与非主属性：组成候选码的属性就是主属性，其他的就是非主属性
  * 外码（外键）
  * 全码（ALL-Key）:关系模式的所有属性组是这个关系的候选码

  ![image-20230925232810151](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252328353.png)

### 5.2 完整性约束

* 实体完整性约束：规定基本关系的主属性不能取空值
* 参照完整性约束：关系与关系间的引用，其他关系的主键或空值
* 用户自定义完整性约束：应用环境决定
* 触发器

### 5.3 逻辑结构设计

![image-20230925233542101](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252335279.png)

* E-R图向关系模式的转换
  * 实体向关系模式的转换
  * 联系向关系模式的转换
* 关系模式的规范化
* 确定完整性约束（保证数据的正确性）
* 用户视图的确定（提高数据的安全性和独立性）
  * 根据数据流图确定处理过程使用的视图
  * 根据用户类别确定不同用户使用的视图
* 应用程序设计

![image-20230925234340232](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252343382.png)

| 联系类型 | 实体（独立关系模式） | 联系（独立关系模式） | 联系（归并关系模式） | 备注         |
| -------- | -------------------- | -------------------- | -------------------- | ------------ |
| 1对1     | √                    | √                    | √                    | 并入任一一端 |
| 1对多    | √                    | √                    | √                    | 并入多端     |
| 多对多   | √                    | √                    | ×                    |              |



## 6、关系代数（❤❤❤❤）

![image-20230925235033642](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252350749.png)

![image-20230925235405631](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252354812.png)

![image-20230925235813028](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309252358148.png) 



## 7、规范化理论（❤❤❤❤❤）

### 7.1 非规范化存在的问题

* 非规范化的关系模式，可能存在的问题包括：数据冗余、更新异常（修改操作一致性问题）、插入异常、删除异常

### 7.2 基本概念

#### 1）函数依赖

![image-20230927003854251](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270038434.png)

#### 2）键

![image-20230927004019151](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270040281.png)

#### 3）求候选键

* 将关系模式的函数依赖关系用”有向图“的方式表示
* 找入度为0的属性，并以该属性集合为起点，尝试遍历有向图，若能正常遍历图中所有节点，则该属性集即为关系模式的候选键
* 若入度为0的属性集不能遍历图中所有节点，则需要尝试性的将一些中间节点（即有入度，也有出度的节点）并入入度为0的属性集中，直至该集合能遍历所有节点，集合为候选键

![image-20230927005004886](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270050072.png)

### 7.3 Armstrong理论

* 关系模式R<U,F>来说有以下的推理规则：

  * 自反律：若Y∈X∈U，则X→Y成立
  * 增广律：若Z∈U且X→Y，则XZ→YZ成立
  * 传递律：若X→Y且Y→Z，则X→Z成立

* 根据A1，A2，A3这三条推理规则可以得到下面三条推理规则

  * 合并规则：由X→Y，X→Z，有X→YZ（A2，A3）

    ![image-20230927010210216](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270102307.png)

  * 伪传递规则：由X→Y，WY→Z，有XW→Z（A2，A3）

    ![image-20230927010314829](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270103913.png)

  * 分解规则：由X→Y及Z∈Y，有X→Z。（A1，A3）

    ![image-20230927010346397](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270103614.png)

### 7.4 范式判断

![image-20230927010548309](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270105468.png)

#### 1）第一范式

* （1NF）：在关系模式R中，当且仅当所有域只包含原子值，即每个属性都是不可再分的数据项，则称关系模式R是第一范式

* 简单属性和复合属性、单值属性和多值属性、NULL属性、派生属性

* 例如：关系模式R（系名称，高级职称人数）是否满足1NF，如果不满足，应如何调整？

  ![image-20230927010909801](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270109962.png)

#### 2）第二范式

* （2NF）：当且仅当实体E是第一范式（1NF），且每一个非主属性依赖主键（不存在部分依赖）时，则实体E是第二范式

* 思考题：请思考该关系模式会存在哪些问题（从数据冗余、更新异常、插入异常、删除异常这个几个方面来考虑），解决方案是什么？

  ![image-20230927011248010](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270112173.png)

#### 3） 第三范式

* （3NF）：当且仅当实体E是第二范式（2NF），且E中没有非主属性传递依赖于码时，则称实体E是第三范式

* 思考题：请思考该关系模式会存在哪些活动（从数据冗余、更新异常、插入异常、删除异常这几个方面来考虑），解决方案是什么？

  ![image-20230927011743008](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309270117174.png)

#### 4）BC范式

* （BCNF）：设R是一个关系模式，F是它的依赖集，R属于BCNF当且仅当其F中每个依赖决定因素必定包含R的某个候选码

### 7.5 模式分解（是否保持函数依赖&是否无损）

#### 1）是否保持函数依赖

* 保持函数依赖
  * 设含数据模式ρ={R1,R2,…，$R_k$}是关系模式R的一个分解，F是R上的函数依赖集，ρ是R上的函数依赖集，ρ中每个模式$R_i$上的FD集是$F_i$。如果{F1,F2,…,$F_k$}与F是等价的（即相互逻辑蕴含），那么称分解ρ保持FD

#### 2）无损分解

![截屏 2023-09-28 17.24.29.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281728417.png)

* 什么是有损，什么又是无损

  * 有损：不能还原。无损：可以还原

* 无损联接分解：指将一个关系模式分解成若干个关系模式后，通过自然联接和投影等运算仍能还原到原来的关系模式

  ![截屏 2023-09-28 17.33.36.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281734409.png)![截屏 2023-09-28 17.35.31.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281736858.png)![截屏 2023-09-28 17.43.20.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281744390.png)

## 8、并发控制（❤）

### 8.1 事务的ACID特性

* 原子性（Atomicity）：是指事务包含的所有操作要么全部成功，要么全部失败。这些操作是一个整体，不能部分地完成
* 一致性（Consistency）：是指事务必须使数据库从一个一致性状态变换成另一个一致性状态，也就是说一个事务执行之前和之后都必须处于一致性状态
* 隔离性（Isolation）：是指一个事务的执行不能被其他事务干扰，即一个事物内部的操作及使用的数据对并发的其他事务是隔离的
* 持久性（Durability，永久性）：是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，无论发送何种故障，都不应对其有任何影响

### 8.2 并发产生的问题

* 丢失更新
* 不可重复读问题
* ”脏“数据的读出

![截屏 2023-09-28 17.55.26.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281756503.png)

### 8.3 封锁协议

![截屏 2023-09-28 17.57.44.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281758588.png)

* 一级封锁协议：事务T在修改数据R之前必须先对其加X锁，直到事务结束才释放。可防止丢失修改

  ![image-20230928180446410](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281804490.png)

* 二级封锁协议：一级封锁协议加上事务T在读取数据R之前先对其加S锁，读完后即可释放S锁。可防止丢失修改，还可防止读”脏“数据

  ![截屏 2023-09-28 18.06.12.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281806902.png)

* 三级封锁协议：一级封锁协议加上事务T在读取数据R之前先对其加S锁，直到事务结束才释放。可防止丢失修改、防止读”脏“数据和防止数据（不可）重复读

  ![截屏 2023-09-28 18.11.16.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281811158.png)

* 两段锁协议。可串行化的。可能发生死锁

## 9、数据库的安全性（❤）

| 措施           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| 用户标识和鉴定 | 最外层的安全保护措施，可以使用用户账户、口令及随机数检验等方式 |
| 存取控制       | 对用户进行授权，包括操作类型（如查找、插入、删除、修改等动作）和数据对象（主要是控制范围）的权限（Grant和Revoke） |
| 密码存储和传输 | 对视图进行授权                                               |
| 审计           | 使用一个专用文件或数据库，自动将用户对数据库的所有操作记录下来 |



## 10、数据库备份与恢复技术（❤）

### 10.1 数据备份

* 冷备份也称为静态备份，是将数据库正常关闭，在停止状态下，将数据库文件全部备份（复制）下来
* 热备份也称为动态备份，是利用备份软件，在数据库正常运行的状态下，将数据库中的数据文件备份出来

|        | 优点                                                         | 缺点                                                         |
| ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 冷备份 | 非常快速的备份方法（只需要复制文件）；容易归档（简单复制即可）；容易恢复到某个时间点上（只需将文件再复制回去）；能与归档方法相结合，做数据库”最佳状态“的恢复；低度维护，高度安全 | 单独使用时，只能提供到某一个时间点上的恢复；在实施备份的全过程中，数据库必须要做备份而不能做其他工作；若磁盘空间有限，只能复制到磁带等其他外部存储设备上，速度会很慢；不能按表或按用户恢复 |
| 热备份 | 可在表空间或数据库文件级备份，备份的时间短；备份时数据库仍可使用；可达到秒级恢复（恢复到某个时间点上）；可对几乎所有数据库实体做恢复；恢复是快速的 | 不能出错，否则后果很严重；若热备份不成功，所得结果不可用于时间点的恢复；困难于交互，所以要特别小心，不允许”以失败告终“ |

* 完全备份：备份所有数据
* 差量备份：仅备份呢上一次完全备份之后变化的数据
* 增量备份：备份上一次备份之后变化的数据
* 日志文件：事务日志是针对数据库改变所做的记录，它可以记录针对数据库的任何操作，并将记录结果保存在独立的文件中

![截屏 2023-09-28 18.33.41.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281834342.png)

### 10.2 数据库故障与恢复

| 故障关系               | 故障原因               | 解决方法                                                     |
| ---------------------- | ---------------------- | ------------------------------------------------------------ |
| 事务本身的可预期故障   | 本身逻辑               | 在程序中预先设置Rollback语句                                 |
| 事务本省的不可预期故障 | 算术溢出、违反存储保护 | 有DBMS的恢复子系统通过日志，撤销事务对数据库的修改，回退到事务初始状态 |
| 系统故障               | 系统停止运转           | 通常使用检查点法（系统重启时自动完成）                       |
| 介质故障               | 外存被破坏             | 一般使用日志重做业务                                         |

* 撤销事务（UNDO）：故障发生时未完成的事务，放入Undo撤销
* 重做事务（REDO）：故障发生时已提交的事务。放入Redo重做

## 11、章节回顾

![截屏 2023-09-28 18.42.06.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281842261.png)

# 十六、案例特训专题【数据库设计】

* 数据库设计关注的问题：性能、数据一致性、安全

## 1、规范化与反规范化（❤❤❤）

### 1.1 规范化-数据库设计过程

![截屏 2023-09-28 18.49.25.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281849512.png)

### 1.2 规范化-范式

![截屏 2023-09-28 18.53.00.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281853830.png)

### 1.3 反规范化

![截屏 2023-09-28 18.55.18.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281855704.png)

| 技术手段         | 说明                                                       |
| ---------------- | ---------------------------------------------------------- |
| 增加派生性冗余列 | 已有单价和数量列，增加”总价“列                             |
| 增加冗余列       | 已有学号列，增加”姓名“列                                   |
| 重新组表         | 把拆分的表重新组表                                         |
| 分割列           | 把用户表做水平分割，长沙的用户存在长沙，上海的用户存在上海 |

* 反规范化的优点：连接操作少，检索快，统计快；需要查的表减少，检索容易

| 反规范化的缺点                             | 解决方案                                 |
| ------------------------------------------ | ---------------------------------------- |
| 数据冗余，需要更大的存储空间               | 无解                                     |
| 插入、更新、删除操作开销大                 | 无解                                     |
| 数据不一致<br>可能产生添加、修改、删除异常 | 1、触发器数据同步<br>2、应用程序数据同步 |
| 更新和插入代码更难写                       | 无解                                     |
| 易出错                                     |                                          |

### 1.4 数据库索引

* 提升查询效率，降低添加、修改、删除速率。采用B树，B+树

![截屏 2023-09-28 19.23.35.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281925061.png)![截屏 2023-09-28 19.24.33.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202309281925292.png)

### 1.5 数据库视图

* 视图（View）并不在数据库中实际存在，而是一种虚拟表
* 视图的优点
  * 视图能简化用户的操作
  * 视图机制可以使用户以不同的方式查询同一数据
  * 视图对数据重构提供一定程度的逻辑独立性
  * 视图可以对机密的数据提供安全保护
* 物化视图：将视图的内容物理存储起来，其数据随原始表表的变化，同步更新

## 2、分布式数据库（❤❤❤）

### 2.1 分区分库分表

![截屏 2023-10-05 16.11.41.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051612415.png)

|      | 分区                                                         | 分表             |
| ---- | ------------------------------------------------------------ | ---------------- |
| 共性 | 1、都针对数据表<br/>2、都使用了分布式存储<br/>3、都提升了查询效率<br/>4、都低数据库的频繁I/O压力值 |                  |
| 差异 | 逻辑上还是一张表                                             | 逻辑上已是多张表 |

### 2.2 分区的常见方式

![截屏 2023-10-05 16.19.11.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051620684.png)

| 分区策略          | 分区方式                         | 说明                                                         |
| ----------------- | -------------------------------- | ------------------------------------------------------------ |
| 范围分区【RANGE】 | 按数据范围值来分区               | 例：按用户编号分区，0-999999映射到分区A；1000000-1999999映射到分区B |
| 散列分区【HASH】  | 通过对key进行hash运算分区        | 例：可以吧数据分配到不同分区，这类似于取余操作，余数相同的，放在一个分区上 |
| 列表分区【LIST】  | 根据某个字段的某个具体值进行分区 | 例：长沙用户分成一个区，北京用户一个区                       |

* 分区的优点
  * 相对于单个文件系统或是硬盘，分区可以存储更多的数据
  * 数据管理比较方便，比如要清理或废弃某年的数据，就可以直接删除该日期的分区数据即可
  * 精准定位分区查询数据，不需要全表扫描查询，大大提高数据检索效率
  * 可跨多个分区磁盘查询，来提高查询的吞吐量
  * 在涉及聚合函数查询时，可以很容易进行数据的合并

### 2.3 分布式数据库系统

![截屏 2023-10-05 16.28.19.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051628109.png)

* 分布透明性

  * 分片透明性：分不分片，用户感受不到
    * 水平分片：按记录分
    * 垂直分片：按字段分
    * 混合分片
  * 位置透明性：数据存放在哪里，用户不用管
  * 局部数据模型透明性（逻辑透明）：用户不用关心局部数据模型

  ![截屏 2023-10-05 16.33.41.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051635965.png)

* 分布式数据库管理系统-组成

  * LDBMS
  * GDBMS
  * 全局数据字典
  * 通信管理（CM）

* 分布式数据库管理系统-结构

  * 全局控制集中的DDBMS
  * 全局控制分散的DDBMS
  * 全局控制部分分散的DDBMS

## 3、NoSQL（❤❤❤）

* （Not-only SQL）：不仅仅只是SQL，泛指非关系型的数据库

| 对比维度 | 关系数据库           | NoSQL        |
| -------- | -------------------- | ------------ |
| 应用领域 | 面向通用领域         | 特定应用领域 |
| 数据容量 | 有限数据             | 海量数据     |
| 数据类型 | 结构化数据【二维表】 | 非结构化数据 |
| 并发支持 | 支持并发，但性能低   | 高并发       |
| 事务支持 | 高事务性             | 弱事务性     |
| 扩展方式 | 向上扩展             | 向外扩展     |

| 分类                | 典型应用场景                                                 | 数据模型                                     | 优点                                                         | 缺点                                                         | 举例                                               |
| ------------------- | ------------------------------------------------------------ | -------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------------------------- |
| 键值（Key-value）   | 内容缓存，主要用于处理大量数据的高访问负载，也用于一些日志系统等等 | Key指向Value的键值对，通常用hash table来实现 | 查找速度快                                                   | 数据无结构化，通常只被当做字符串或者二进制数据               | Redis，Tokyo Cabinet/Tyrant，Voldemort，Oracle BDB |
| 列存储数据库        | 分布式的文件系统                                             | 以列蔟式存储，将同一列数据存在一起           | 查找速度快，可扩展性强，更容易进行分布式扩展                 | 功能相对局限                                                 | HBase，Cassanddra，Riak                            |
| 文档型数据库        | Web应用（与Key-Value类似，Value是结构化的，不同的是数据库能够了解Value的内容） | Key-Value对应的键值对，Value位结构化数据     | 数据结构要求不严格，表结构可变，不需要像关系型数据库一样需要预先定义表结构 | 查询性能不高，而且缺乏统一的查询语法                         | CouchDB，MongoDb                                   |
| 图形数据库（Graph） | 社交网络，推荐系统等。专注于构建关系图谱                     | 图结构                                       | 利用图结构相关算法。比如最短路径寻址，N度关系查找等          | 很多时候需要对整个图做计算才能得出需要的信息，而且这种结构不太好做分布式的集群方案 | Neo4J，InfoGrid，Infinite Graph                    |

## 4、内存数据库（❤❤❤）



## 5、其他数据库扩展知识（❤❤❤）

### 5.1 联邦数据库

![截屏 2023-10-05 17.02.50.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051703649.png)

* 联邦数据库系统（FDBS）是一个彼此协作却又相互独立的成员数据库（CDBS）的集合，它将成员数据库系统按不同程序进行集成，对该系统整体提供控制和协同操作的软件叫做联邦数据库管理系统（FDBMS）
* 联邦系统特征
  * 分布性
  * 异构性
  * 自治性
  * 透明性
* 联邦数据库分裂
  * 紧耦合
  * 松耦合

### 5.2 大数据

![截屏 2023-10-05 17.11.19.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051711435.png)

| 比较维度     | 传统数据             | 大数据                         |
| ------------ | -------------------- | ------------------------------ |
| 数据量       | GB或TB级             | PB级或以上                     |
| 数据分析需求 | 现有数据的分析与检测 | 深度分析（关联分析、回归分析） |
| 硬件平台     | 高端服务器           | 集群平台                       |

* 大数据处理系统应该具有的重要特征
  * 高度可扩展性
  * 高性能
  * 高度容错
  * 支持异构环境
  * 较短的分析延迟
  * 易用且开放的接口
  * 较低成本
  * 向下兼容性

## 6、 数据库性能优化

![截屏 2023-10-05 17.07.42.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051708713.png)

# 十七、数学与经济管理

## 1、运筹方法（❤❤❤）

### 1.1 关键路径法

### 1.2 线性规划

### 1.3 动态规划

## 2、随机函数（❤）

## 3、数学建模（❤）

* 数学建模是一种数学的思考方法，是运用数学的语言和方法，通过抽象和简化，建立能近似刻画并解决实际问题的模型的一种强有力的数学手段

![截屏 2023-10-05 17.52.34.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051752703.png)

* 建模流程
  * 模型准备：了解问题的实际背景，明确其实际意义，掌握对象的各种信息。用数学语言来描述问题
  * 模型假设：根据实际对象的特征和建模的目的，对问题进行必要的简化，并用精确的语言提出一些恰当的假设
  * 模型建立：在假设的基础上，利用适当的数学工具来刻画各变量之间的数学关系，建立相应的数学结构。只要能够把问题描述清楚，尽量使用简单的数学工具
  * 模型求解：利用获取的数据资料，对模型的所有参数做出计算（估计）
  * 模型分析：对所得的结果进行数学上的分析
  * 模型检验：将模型分析结果与实际情形记性比较，以此来验证模型的准确性、合理性和适用性。如果模型与实际较吻合，则要对计算结果给出其实际含义，并进行解释。如果模型与实际吻合较差，则应该修改假设，再次重复建模过程
  * 模型应用：应用方式因问题的性质和建模的目的而异
* 模型分析
  * 模型的合理性分析（最佳、适中和满意）
  * 模型的误差分析：模型误差、观测误差、截断误差、舍入误差、过失误差、绝对误差、相对误差
  * 参数的灵敏性分析：变量数据是否敏感，在最优方案不变的条件下这些变量变化的范围

* 模型检验
  * 利用实际案例数据对模型进行检验是很常见的。将模型作为一个黑盒，通过案例数据的输入，检查其输出是否合理。这是应用人员常用的方法
  * 可以请专家来分析模型是否合理。经验丰富的专家一般会根据模型自身的逻辑，再结合实际情况，分析是否会出现矛盾或问题
  * 利用计算机来模拟实际问题，再在计算机上检验该数学模型。有时很难用实际案例或聘请专家来检验模型，例如，试验或实验的代价太大，难以取得实际案例，有的项目技术比较新，缺乏有经验的专家。例如，对某种核辐射防护建立的数学模型，采用计算机模拟方法来检验就十分有效
* 数学建模方法
  * 直接分析法：认识原理，直接构造出模型
  * 类比法：根据类似问题模型构造新模型
  * 数据分析法：大量数据统计分析之后建模
  * 构想法：对将来可能发生的情况给出设想从而建模

## 4、基础扩展

### 4.1 图论-最小生成树

* 特点
  * 所有顶点接入
  * 没有回路
  * 权值之和最小

* 克鲁斯卡尔算法：最短边

  ![截屏 2023-10-05 18.21.30.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051822194.png)

* 普利姆算法：最近顶点

  ![截屏 2023-10-05 18.24.29.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051824843.png)

### 4.2 图论应用-最短路径

![截屏 2023-10-05 18.51.09.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051908600.png)

### 4.3 网络与最大流量

![截屏 2023-10-05 19.08.08.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051908824.png)

### 4.4 运筹方法-决策

* 决策者
* 可供选择的方案
* 衡量选择方案的准则
* 事件
* 每一事件的发生将会产生的某种结果
* 决策者的价值观

* 决策类型
  * 确定型决策
  * 风险决策
  * 不确定型决策

* 决策-不确定型决策

  | 决策准则     | 说明                                                         |
  | ------------ | ------------------------------------------------------------ |
  | 乐观主义准则 | maxmax准则，其决策的原则是“大中取大”，总包邮乐观和茂兴的态度，决不放弃任何获得最好结果的机会。在决策表中各个方案对各个状态的结果中选出最大者，记在表的最右列，再从该列中选出最大者 |
  | 悲观主义准则 | maxmin准则，其决策的原则是“小中取大”。抱有悲观和保守的态度，在各种最坏的可能结果中选择最好的。决策时从决策表中个方案对各个状态的结果选出最小者，记在表最右列，再从该列中选出最大者 |
  | 折中主义准则 | Harwicz准则，既不乐观冒险，也不悲观保守，而是从中折中平衡，用一个系数α（称为折中系数）来表示，并规定0≤α≤1，$cv_i=α*max{a_{ij}}+(1-α)*min{a_{ij}}$，然后比较$cv_i$，从中选出最大者 |
  | 等可能准则   | Laplace准则，但该决策者无法事先确定每个自然状态出现的概率时，可以将每个状态出现的概率定位1/n，然后按照EMV决策 |
  | 后悔值准则   | Savage准则，每个自然状态的最大收益值（损失矩阵取为最小值）作为该状态的理想目标，并将该状态的其他值与最大值的差作为未达到理想目标的后悔值。决策的原则是最大后悔值达到最小（minmax，大中最小，最小最大后悔值） |

  ![截屏 2023-10-05 19.21.13.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051921485.png)![截屏 2023-10-05 19.22.27.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051922439.png)![截屏 2023-10-05 19.23.07.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051923271.png)![截屏 2023-10-05 19.24.59.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051925529.png)

### 4.5 决策表与决策树

* 决策树

  ![截屏 2023-10-05 19.27.10.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051927417.png)

* 决策表

  ![截屏 2023-10-05 19.28.37.png](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310051929083.png)

# 十八、知识产权与标准化

## 1、保护范围与对象（❤❤❤）

| 法律法规名称                       | 保护对象及范围                         | 注意事项                                                     |
| ---------------------------------- | -------------------------------------- | ------------------------------------------------------------ |
| 著作权法                           | 著作权<br/>文学、绘画、摄影等<br/>作品 | 1、不需要申请，做平完成即开始保护<br/>2、绘画或摄影作品原件出售（赠予）著作权还是归原作者，原件拥有者有：所有权、展览权 |
| 软件著作权法<br>计算机软件保护条例 | 软件著作权<br>软件作品                 | 1、不需要申请，作品完成即开始保护<br>2、登记制度便于举证     |
| 专利法                             | 专利权                                 | 需要申请，专利权有效期是从申请日开始计算                     |
| 商标法                             | 商标权                                 | 需要申请，核准之日起商标受保护                               |
| 反不正当竞争法                     | 商业秘密权                             | 1、商业秘密包括技术与经营两个方面<br>2、必须有保密措施才能认定商业秘密 |



## 2、保护期限（❤❤）

| 客体类型                 | 权利类型                                                     | 保护期限                                                     |
| ------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 公民作品                 | 署名权、修改权、保护作品完整权                               | 没有限制                                                     |
| 公民作品                 | 发表权、使用权和获得报酬权                                   | 作者终生及其死后50年（第50年的12月31日）                     |
| 单位作品                 | 发表权、使用权和获得报酬权                                   | 50年（首次发表后的第50年的12月31日），若起尚未发表，不保护   |
| 公民软件产品             | 署名权、修改权                                               | 没有限制                                                     |
| 公民软件产品             | 发表权、复制权、发行权、出租权、信息网络传播权、翻译权、使用许可权、获得报酬权、转让权 | 作者终生及其死后50年（第50年的12月31日），以最后死亡作者为准 |
| 单位软件产品             | 发表权、复制权、发行权、出租权、信息网络传播权、翻译权、使用许可权、获得报酬权、转让权 | 50年（首次发表后的第50年的12月31日），若起尚未发表，不保护   |
| 注册商标                 |                                                              | 有效期10年（若注册人死亡或倒闭1年后，为转移则可注销，期满后6个月内必须续注） |
| 发明专利权               |                                                              | 保护期为20年（从申请日开始）                                 |
| 实用新型和外观设计专利权 |                                                              | 保护期为10年（从申请日开始）                                 |
| 商业秘密                 |                                                              | 不确定，公开后公众可用                                       |

​	

## 3、知识产权人确定（❤❤❤）

| 情况说明             | 判断说明                                                     | 归属                                           |
| -------------------- | ------------------------------------------------------------ | ---------------------------------------------- |
| 作品（职务作品）     | 利用单位的物质技术条件进行创作，并由单位承担责任的           | 除署名权外其他著作权归单位                     |
| 作品（职务作品）     | 有合同约定，其著作权属于单位                                 | 除署名权外其他著作权贵单位                     |
| 作品（职务作品）     | 其他                                                         | 作者拥有著作权，单位有权在业务范围内优先使用   |
| 软件（职务作品）     | 属于本职工作中明确规定的开发目标                             | 单位享有著作权                                 |
| 软件（职务作品）     | 属于从事本职工作活动的结果                                   | 单位享有著作权                                 |
| 软件（职务作品）     | 使用了单位资金、专用设备、未公开的信息等物质、技术条件，并由单位或组织承担责任的软件 | 单位享有著作权                                 |
| 专利权（职务作品）   | 本职工作中做出的发明创造                                     | 单位享有专利                                   |
| 专利权（职务作品）   | 履行本单位交付的本职工作之外的任务所做出的发明创造           | 单位享有专利权                                 |
| 专利权（职务作品）   | 离职、退休或调动工作后1年内与原单位工作相关                  | 单位享有专利权                                 |
| 作品软件（委托创作） | 有合同约定，著作权归委托方                                   | 委托方                                         |
| 作品软件（委托创作） | 合同中未约定著作权归属                                       | 创作方                                         |
| 作品软件（合作开发） | 只进行组织、提供咨询意见、物质条件或者进行其他辅助工作       | 不享有著作权                                   |
| 作品软件（合作开发） | 共同创作的                                                   | 共同享有，按人头比例。成果可分割的，可分开申请 |
| 商标                 | 谁先申请谁拥有（除知名商标的非法抢注）<br>同时申请，则根据谁先使用（需提供证据）<br>无法提供证据，协商归属，无效时使用抽签（但不可不确定） |                                                |
| 专利                 | 谁先申请谁拥有<br>同时申请则协商归属，协商不成则同时驳回双方的专利申请 |                                                |

## 4、侵权判断（❤❤❤❤）

* 中国公民、法人或者其他组织的作品，不论是否发表，都享有著作权
* 开发软件所用的思想、处理过程、操作方法或者数学概念不受保护
* 软件作品不是指代码，而是指带有特定业务逻辑的程序及软件文档
* 著作权法不适用于下列情形
  * 法律、法规，国家机关的决议、决定、命令和其他具有立法、行政、司法性质的文件，及其官方正式译文
  * 时事新闻
  * 历法、通用数表、通用表格和公式

| 不侵权                                                       | 侵权                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 个人学习、研究或者欣赏<br>适当引用<br>公开演讲内容<br>用于教学或科学研究<br>复制馆藏作品<br>免费表演他人作品<br>室外公共场所艺术品临摹、绘画、摄影、录像<br>将汉语作品译成少数民族语言作品或盲文出版 | 未经许可，发表他人作品<br>未经合作者许可，将于他人合作创作的作品当做自己单独创作的作品发表的<br>未参加创作，在他人作品署名<br>歪曲、篡改他人作品的<br>剽窃他人作品的<br>使用他人作品，未付报酬<br>未经出版者许可，使用其出版的图书、期刊的版式设计的 |



## 5、标准的分类（❤）

* 国际标准：ISO、IEC等国际标准化组织
* 国家标准：GB-中国、ANSI-美国、BS-英国、JIS-日本
* 区域标准：又称为地区标准，如PASC-太平洋地区标准会议、CEN-欧洲标准委员会、ASAC-亚洲标准咨询委员会、ARSO-非洲地区标准化组织
* 行业标准：GJB-中国军用标准、MIT-S-美国军用标准、IEEE-美国电气电子工程师协会
* 地方标准：国家的地方以及行政机构指定的标准
* 企业标准
* 项目规范

## 6、标准代号的识别（❤）

* 国际、国外标准代号：标准代号+专业类号+顺序号+年代号
* 我国国家标准代号：强制性标准代号为GB、推荐性标准代号为GB/T、指导性标准代号为GB/Z、实物标准代号GSB
* 行业标准代号：由汉语拼音大写字母组成（如电子行业为SJ）
* 地方标准代号：由DB加上省级行政地区划代码的前两位
* 企业标准代号：由Q加上企业代号组成

# 十九、论文写作技巧篇

## 1、考情分析

![image-20231006221106013](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062211199.png)![image-20231006221118214](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062211384.png)![image-20231006221145342](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062211475.png)

## 2、注意事项

![image-20231006221406641](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062214795.png)

* 切记：不要猜题
  * 原则：要复用构件，不要整篇复用
* 不要抄范文，不要用网上的项目背景
  * 原则：宁可杜撰项目，也不用网上范文中的项目
* 练习时写文章前，一定要做好功课
  * 原则：理论重于实践
* 做好准备工作之后，要勇于迈出第一步
  * 原则：万事开头难，迈出第一步，就不难了
* 换个视角看论文
  * 原则：以论文写作技巧视频为依据，对自己的论文进行自评
* 做好准备工作
  * 加强学习
  * 平时积累
  * 共同提高
  * 掌握写作技巧
  * 提高写作速度
  * 以不变应万变

## 3、论文写作四部曲

### 3.1 找准核心论点（5分钟）

![image-20231006224103076](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062241193.png)

### 3.2 搭建论文框架（10分钟）

![image-20231006224440019](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062244193.png)![image-20231006224854938](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062248093.png)

### 3.3 撰写摘要（15分钟）

![image-20231006225231888](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062252006.png)

### 3.4 正文写作（90分钟）

* 关键点

  * 以我为中心

  * 站在高级工程师的高度

  * 忠实于论点

  * 条理清晰，开门见山

  * 图文并茂，能收奇效

  * 标新立异，要有主见

  * 收尾一致

* 常见问题及解决办法
  * 走题
  * 字数不够，字数偏多
  * 摘要归纳欠妥
  * 文章深度不够，缺少特色，泛泛而谈
  * 文章口语化太重，文字表达能力太差
  * 文章缺乏主题项目，项目年代久远
  * 整篇文章从大一二三到小123，给人以压抑感
  * 文章结构不够清晰，段落太长

## 4、论文写作准则

### 4.1 扣分与加分准则

![image-20231006230206927](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062302118.png)

### 4.2 雷区

![image-20231006230625271](https://smcjava.oss-cn-hangzhou.aliyuncs.com/java/202310062306448.png)

